<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <title></title>
  <link href="../../fonts/iconfont.css" rel="stylesheet" />
  <link href="../../css/mui.min.css" rel="stylesheet" />
  <link href="../../css/style.css" rel="stylesheet" />
  <link href="css/kt-style.css" rel="stylesheet" />
</head>

<body id="main-content">
  <header class="mui-bar mui-bar-nav">
    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
    <h1 class="mui-title" data-bind="text:viewModel().title">视频名称</h1>
  </header>
  <div class="mui-content details">
      <div class="video">
        <div class="video-item">
          <div class="thumbnail">
            <div class="img">
              <img src="images/timg2.jpg" alt="">
            </div>
            <i class="iconfont icon-bofang"></i>
          </div>
          <div class="info">
            <p class="clear curricu-name">
              <span class="fl font-bold text-ellipsis"  data-bind="text:viewModel().title">课程名称课程名称名称名称名称</span>
              <span class="fr"  data-bind="text:viewModel().ctypeText">口腔种植</span>
            </p>
            <p class="clear curricu-desc">
              <span class="fl font-bold"  data-bind="text:viewModel().contents">描述文字描述文字文字描述</span>
            </p>
            <p>
              <span class="price font-bold"  data-bind="text:viewModel().priceText">免费</span>
            </p>
            <p class="clear other">
              <span class="fr">
                <i class="iconfont icon-liulanjilu"></i>
                123
              </span>
              <span class="fl">2019.12.23</span>
            </p>
          </div>
        </div>
      </div>
      <div class="number-box">
        <div class="number">
            <div class="title clearFix">
              <span class="fl">剧集</span>
              <span class="fr">共9集</span>
            </div>
            <div class="detailed">
              <p class="buy">
                <img src="images/yigou.png" alt="">
                <span>1</span>
              </p>
              <p class="buy">
                <img src="images/yigou.png" alt="">
                <span>2</span>
              </p>
            
            </div>
        </div>
      </div>
  </div>
  <script src="../../third/bluebird.min.js"></script>
  <script src="../../third/loadash.3.10.1.js"></script>
  <script src="../../js/mui.min.js"></script>
  <script src="../../third/knockout.js"></script>
  <script src="../../third/knockout.extend.js"></script>
  <script src="../../third/ko.mapping.js"></script>
  <script src="../../js/mui.picker.min.js"></script>
  <script src="../../js/mui.poppicker.js"></script>
  <script src="../../js/utils.enums.js"></script>
  <script src="../../js/utils.config.js"></script>
  <script src="../../js/utils.storages.js"></script>
  <script src="../../js/utils.auth.js"></script>
  <script src="../../js/utils.upload.js"></script>
  <script src="../../js/utils.request.js" ></script>
  <script src="../../js/utils.common.js" ></script>
  <script src="js/kt-common.js" ></script>
  <script>
    (function($, doc) {
      $.init();
      $.plusReady(function() {
        var currentWebview = plus.webview.currentWebview();
        var BaseView = function () {
          var vm = this;
          vm.detailData = ko.observable({});

        }
        var viewModel = new BaseView();
        ko.applyBindings(viewModel, doc.getElementById('main-content'));
        
        function loadData () {
        	console.log( currentWebview.catergoryid ); 
          request.loginAjax('courses/coursesDetails', {
            showMsg: false,
            data: {
              cid: currentWebview.catergoryid
            }
          }, function(data,success) {
            if (success) { 
//            Enums.getAll(function(){
//               data.wagesText = Enums.getEnumText('salaryRange', data.wages);
//               data.positiontypeText = Enums.getEnumText('positionType', data.positiontype);
//               data.experienceText = Enums.getEnumText('workExperience', data.experience);
//               data.educationText = Enums.getEnumText('education', data.education);
//               viewModel.detailData(ko.mapping.fromJS(data));
//            })
					
							data.priceText = data.price == 0? data.price :'免费';
							data.ctypeText = Enums.getEnumText('ctype', data.ctype);
							console.log( JSON.stringify( data ) );
							viewModel.detailData( data|| {} );
            }
          });
        }
        viewModel.detailData({});
        loadData();
   
      });
    }(mui, document));
  </script>
</body>
</html>