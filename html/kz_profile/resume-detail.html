<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <title></title>
  <link href="../../fonts/iconfont.css" rel="stylesheet" />
  <link href="../../css/mui.min.css" rel="stylesheet" />
  <link href="../../css/style.css" rel="stylesheet" />
  <link href="../../css/style-custom.css" rel="stylesheet" />
  <link href="css/profile-style.css" rel="stylesheet" />
  <style>
    .mui-content{
      height: auto;
    }
  </style>
</head>

<body>
  <header class="mui-bar mui-bar-nav">
    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
    <h1 class="mui-title">简历详情</h1>
  </header>
  <nav class="mui-bar mui-bar-tab custom-tab">
    <div class="mui-tab-item">
      <button id="saveBtn" class="mui-btn mui-btn-blue">收藏</button>
    </div>  
  </nav>
  <div id="main-content" class="mui-content">
    <div class="resume-box">
      <div class="m-title t1">姓名 <span class="key-imp">护理师 | 大专 | 5-10年</span></div>
      <div class="flex mui-row">
        <div class="mui-col-sm-6 mui-col-xs-12">性别：男</div>
        <div class="mui-col-sm-6 mui-col-xs-12">民族：汉</div>
      </div>
      <div class="flex mui-row">
        <div class="mui-col-sm-6 mui-col-xs-12">期望职位：xxx</div>
        <div class="mui-col-sm-6 mui-col-xs-12">求职类型：全职</div>
      </div>
      <div class="flex mui-row">
        <div class="mui-col-sm-6 mui-col-xs-12">期望工资：面议</div>
        <div class="mui-col-sm-6 mui-col-xs-12">在职状态：离职</div>
      </div>
      <div class="flex mui-row">期望工作区域：四川省-成都市-武侯区</div>
      <div class="flex mui-row">
        <div class="mui-col-sm-6 mui-col-xs-12">出生日期：1989.01.02</div>
        <div class="mui-col-sm-6 mui-col-xs-12">婚姻状况：xx</div>
      </div>
      <div class="flex mui-row">
        <div class="mui-col-sm-6 mui-col-xs-12">现住址：xxxx</div>
      </div>
      <div class="flex mui-row">资格证书：<a href="#">资格证书名称点击可查看</a></div>
    </div>
    <div class="work-edu">
      <div class="m-title t2">工作经历</div>
      <div class="flex mui-row pt15">参加工作时间：2019.09.01</div>
      <div class="flow-box">
        <div class="time">2017.09至2019.07</div>
        <div class="job-name">护理师</div>
        <div class="company-name">公司公司公司</div>
      </div>
      <div class="m-title t2 pt15">教育经历</div>
      <div class="flow-box">
        <div class="time">2017.09至2019.07</div>
        <div>教育机构</div>
        <div>学习课程</div>
      </div>
    </div>
  </div>
  <script src="../../third/bluebird.min.js"></script>
  <script src="../../third/loadash.3.10.1.js"></script>
  <script src="../../js/mui.min.js"></script>
  <script src="../../third/knockout.js"></script>
  <script src="../../third/knockout.extend.js"></script>
  <script src="../../third/ko.mapping.js"></script>
  <script src="../../js/mui.picker.min.js"></script>
  <script src="../../js/mui.poppicker.js"></script>
  <script src="../../js/utils.enums.js"></script>
  <script src="../../js/utils.config.js"></script>
  <script src="../../js/utils.storages.js"></script>
  <script src="../../js/utils.auth.js"></script>
  <script src="../../js/utils.upload.js"></script>
  <script src="../../js/utils.request.js" ></script>
  <script src="../../js/utils.common.js" ></script>
  <script src="js/profile-common.js" ></script>
  <script>
    (function($, doc) {
      $.init();
      $.plusReady(function() {
        
        var BaseView = function () {
          var vm = this;
          vm.detailData = ko.observable({});
        }
        var viewModel = new BaseView();
        ko.applyBindings(viewModel, doc.getElementById('main-content'));
        // 加载简历详情
        function loadData (id) {
          request.loginAjax('personalresume/viewResumeDetail', {
            data: {
              id: id
            }
          }, function(data,success) {
            if (success) {   
              Enums.getAll(function(){
                 data.wagesStr = Enums.getEnumText('salaryRange', data.wages);
                 data.positiontypeStr = Enums.getEnumText('positionType', data.positiontype);
                 data.educationStr = Enums.getEnumText('education', data.education);
              })
              viewModel.detailData(ko.mapping.fromJS(data));
            }
          });
        }
        
        doc.getElementById('saveBtn').addEventListener('tap', function () {
           ProfileResumeCheck().then(function(){
           });
        })
        
        window.addEventListener('kz_profile_ResumeDetail_Data', function(e) {
          loadData(e.detail.id);
        });
      });
    }(mui, document));
  </script>
</body>
</html>